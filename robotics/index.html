<!--{% whitespace all %}-->
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="google" value="notranslate">
  <title>Autre TechhLab Robot IDE</title>
  <link type="text/css" rel="stylesheet" href="https://atl-ux.s3.eu-central-1.amazonaws.com/lib/fontawesome-free-5.15.3-web/css/font-awesome.min.css">
<!--  <link rel="stylesheet" href="cozmo-blockly/jquery-ui-1.11.4.custom/jquery-ui.css">-->
<!--  <link rel="stylesheet" href="cozmo-blockly/jquery-ui-1.11.4.custom/jquery-ui.theme.css">-->
  <link type="text/css" rel="stylesheet" href="https://atl-ux.s3.eu-central-1.amazonaws.com/lib/style.css">
  <script src="https://atl-ux.s3.eu-central-1.amazonaws.com/lib/jquery-3.6.0.min.js"></script>

<!--  <script src="cozmo-blockly/jquery-ui-1.11.4.custom/jquery-ui.js"></script>-->
  <script src="https://unpkg.com/blockly/blockly_compressed.js"></script>
  <script src="https://unpkg.com/blockly/blocks_compressed.js"></script>
  <script src="https://unpkg.com/blockly/javascript_compressed.js"></script>
   <script src="https://unpkg.com/blockly/python_compressed.js"></script>
  <script src="https://atl-ux.s3.eu-central-1.amazonaws.com/lib/closure-library/closure/goog/base.js"></script>
<!--  TODO Remove three components as replaced by Webots-->
  <script src="cozmo-blockly/js/threejs/three.min.js"></script>
  <script src="cozmo-blockly/js/threejs/AnaglyphEffectOld.js"></script>
  <script src="cozmo-blockly/js/threejs/OrbitControls.js"></script>

  <!--  TODO Evaluate the below -->
  <link type="text/css" rel='stylesheet' href='https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css'/>
  <link type="text/css" rel="stylesheet" href='https://www.cyberbotics.com/jquery-ui-layout/1.4.4/layout-default.css' />
  <script src='https://code.jquery.com/jquery-3.1.1.min.js' integrity='sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=' crossorigin='anonymous'></script>
  <script src='https://code.jquery.com/ui/1.12.1/jquery-ui.min.js' integrity='sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=' crossorigin='anonymous'></script>
  <script src='https://www.cyberbotics.com/jquery-ui-layout/1.4.4/jquery.layout.js'></script>

  <link type="text/css" rel="stylesheet" href='https://www.cyberbotics.com/wwi/R2020b/wwi.css' />
  <link type="text/css" rel="stylesheet" href='./webots/resources/web/streaming_viewer/style.css' />
  <script src='https://www.cyberbotics.com/jquery-dialogextend/2.0.4/jquery.dialogextend.min.js'></script>
  <script src='https://cdn.jsdelivr.net/ace/1.2.6/min/ace.js'></script>
  <script src="https://www.cyberbotics.com/wwi/R2020b/webots.min.js"></script>
  <script src="./webots/resources/web/streaming_viewer/atlide_setup_viewer.js"></script>


<!--   Includes block-->
<!--{% raw includes %}-->
  <!-- End Includes block -->
<!-- TODO Remove after treejs to webots replacement -->
<!--  <script src="cozmo-blockly/js/threejs/fonts.js"></script>-->
  <script src="cozmo-blockly/js/threejs/cozmo3d.js"></script>

  <script src="cozmo-blockly/js/blockly/blocks.js"></script>
  <script src="cozmo-blockly/js/blockly/python_generator.js"></script>
  <script src="cozmo-blockly/js/ws.js"></script>
  <script src="atlide-blockly/js/code.js"></script>
  <script src="atlide-blockly/js/blockly/blocks.js"></script>
  <script src="atlide-blockly/js/blockly/python_generator.js"></script>
  <script src="thymio-blockly/js/blockly/blocks.js"></script>
  <script src="thymio-blockly/js/blockly/python_generator.js"></script>

  <!-- ALT Comment:
  After execution, the language code is defined as Code.LANG
  The ATL language strings are activated at the end of the code.js file.
  -->
  <!-- TODO Remove after treejs to webots replacement -->
<!--  <script src="cozmo-blockly/js/threejs/maze.js"></script> -->
  <!-- ALT Comment:
<!--  TODO SaaS features-->
<!--  Integration of the AWS Cognito into the framework-->
<!--  &ndash;&gt;-->
<!--  <script src="atlide-blockly/js/AwsCognitoVerifier.js"></script>-->
<!--  <script src="atlide-blockly/js/AwsCognitoUserprofile.js"></script>-->

  <script>
    $(function(){
      $("#thymioBlocks").load("thymio-blockly/thymio_blocks.html");
    });
  </script>

</head>
<body>

<<!-- SAVE CODE Dialog box -->

  <div id="dialog-form" title= "WorkspaceDialogFormSaveCode05">
    <label id="dialog-form-label" for="filename">WorkspaceDialogFormSaveCode06</label>
    <input type="text" id="filename" tabindex="-1" value="{{ name }}" class="text ui-widget-content ui-corner-all">
    <ol id="files" tabindex="-1">
    </ol>
  </div>


  <table width="100%" height="100%">
    <tr style="height: 15px;">
      <td class="farSide">
        <select style="margin-top: 5px; display: none;" disabled id="languageMenu"></select> <!-- Localization is based on the ULR, refer to js/code.js for URL decoding and laguage selection -->
      </td>
    </tr>
    <tr>
      <td colspan=2>
        <table width="100%">
          <tr id="tabRow" height="1em">
<!--
Tabs in the Blockly Workspace

[1] Blocs: Blockly Workspace
[2] XML: Blockly XML code
[3] Python: Python code translated from Blockly
[4] Robot: Robot Window showing feedback and allowing interdation with the virtual or physical robot
[5] Console: Robot IDE console and log file
-->
            <td id="tab_blocks" class="tabon">...</td>
            <td class="tabmin">&nbsp;</td>
            <td id="tab_camera" class="taboff">Camera</td>
            <td class="tabmin">&nbsp;</td>
            <td id="tab_3d" class="taboff">3D Simulation</td>
            <td class="tabmin">&nbsp;</td>
            <td id="tab_python" class="taboff">Python</td>
            <td class="tabmin">&nbsp;</td>
            <td id="tab_xml" class="taboff">XML</td>
            <td class="tabmin">&nbsp;</td>
            <td id="tab_console" class="taboff">Console</td>
<!--         Buttons in the Blockly Workspace   -->
            <td class="tabmax">
<!--              <button id="backButton" class="button" style="font-size: 1em; height: 25px; vertical-align: top;">-->
<!--                <i class="fa fa-back" style="opacity: 0.6;"></i>-->
<!--              </button>-->
              <button id="trashButton" class="notext" style="font-size: 1em; height: 25px; vertical-align: top;" title="...">
                <i class="fa fa-trash" style="opacity: 0.6;"></i>
              </button>
              <button id="linkButton" class="notext" title="...">
                <img src='https://atl-ux.s3.eu-central-1.amazonaws.com/media/1x1.gif' class="link icon21">
              </button>
              <button id="saveButton" class="button" style="font-size: 1em; height: 25px; vertical-align: top;" title="...">
                <i class="fa fa-folder-open-o" style="opacity: 0.6;"></i>
              </button>
              <button id="runButton" class="notext primary" style="font-size: 1em; height: 25px; vertical-align: top;" title="...">
                <i class="fa fa-play" style="font-color: white;"></i>
              </button>
              <button id="stopButton" class="button" style="font-size: 1em; height: 25px; vertical-align: top;">
                <i class="fa fa-stop" style="opacity: 0.6;"></i>
              </button>
            </td>
          </tr>
        </table>
      </td>
    </tr>
    <tr>
      <td height="99%" colspan=2 id="content_area">
      </td>
    </tr>
  </table>
  <div id="content_blocks" class="content"></div>
  <div id="content_camera" class="content">
    <img id="img_cam" lazyload style="padding-right: 30px;" />
    <canvas id="canvas_cam" width="320" height="240" style="border:1px solid #000000;"></canvas>
    <div id="cozmo_messages"></div>
  </div>
  <div id="content_3d" class="content">
    <b>Webots streaming viewer</b>
        <input id="WebotsStreamingConnectButton" type="button" value="Connect" onclick="webots_streaming_connect()" />
    <div id="content_3d_viewer" width="1000" height="1000">
    </div>
  </div>
  <pre id="content_javascript" class="content"></pre>
  <pre id="content_python" class="content"></pre>
<!--  <pre id="content_php" class="content"></pre>-->
<!--  <pre id="content_lua" class="content"></pre>-->
<!--  <pre id="content_dart" class="content"></pre>-->
  <textarea id="content_xml" class="content" wrap="off"></textarea>
  <pre id="content_console" class="content" wrap="off">
    <div id="console_messages"></div>
  </pre>

<!-- TOOLBOX Menu -->

  <xml id="toolbox" style="display: none">
    <category name="{catLogic}" colour="210">
      <block type="controls_if"></block>
      <block type="logic_compare"></block>
      <block type="logic_operation"></block>
      <block type="logic_negate"></block>
      <block type="logic_boolean"></block>
      <block type="logic_null"></block>
      <block type="logic_ternary"></block>
    </category>
    <category name="{catLoops}" colour="120">
      <block type="controls_repeat_ext">
        <value name="TIMES">
          <shadow type="math_number">
            <field name="NUM">10</field>
          </shadow>
        </value>
      </block>
      <block type="controls_whileUntil"></block>
      <block type="controls_for">
        <value name="FROM">
          <shadow type="math_number">
            <field name="NUM">1</field>
          </shadow>
        </value>
        <value name="TO">
          <shadow type="math_number">
            <field name="NUM">10</field>
          </shadow>
        </value>
        <value name="BY">
          <shadow type="math_number">
            <field name="NUM">1</field>
          </shadow>
        </value>
      </block>
      <block type="controls_forEach"></block>
      <block type="controls_flow_statements"></block>
    </category>
    <category name="{catMath}" colour="230">
      <block type="math_number"></block>
      <block type="math_angle"></block>
      <block type="math_arithmetic">
        <value name="A">
          <shadow type="math_number">
            <field name="NUM">1</field>
          </shadow>
        </value>
        <value name="B">
          <shadow type="math_number">
            <field name="NUM">1</field>
          </shadow>
        </value>
      </block>
      <block type="math_single">
        <value name="NUM">
          <shadow type="math_number">
            <field name="NUM">9</field>
          </shadow>
        </value>
      </block>
      <block type="math_trig">
        <value name="NUM">
          <shadow type="math_number">
            <field name="NUM">45</field>
          </shadow>
        </value>
      </block>
      <block type="math_constant"></block>
      <block type="math_number_property">
        <value name="NUMBER_TO_CHECK">
          <shadow type="math_number">
            <field name="NUM">0</field>
          </shadow>
        </value>
      </block>
      <block type="math_round">
        <value name="NUM">
          <shadow type="math_number">
            <field name="NUM">3.1</field>
          </shadow>
        </value>
      </block>
      <block type="math_on_list"></block>
      <block type="math_modulo">
        <value name="DIVIDEND">
          <shadow type="math_number">
            <field name="NUM">64</field>
          </shadow>
        </value>
        <value name="DIVISOR">
          <shadow type="math_number">
            <field name="NUM">10</field>
          </shadow>
        </value>
      </block>
      <block type="math_constrain">
        <value name="VALUE">
          <shadow type="math_number">
            <field name="NUM">50</field>
          </shadow>
        </value>
        <value name="LOW">
          <shadow type="math_number">
            <field name="NUM">1</field>
          </shadow>
        </value>
        <value name="HIGH">
          <shadow type="math_number">
            <field name="NUM">100</field>
          </shadow>
        </value>
      </block>
      <block type="math_random_int">
        <value name="FROM">
          <shadow type="math_number">
            <field name="NUM">1</field>
          </shadow>
        </value>
        <value name="TO">
          <shadow type="math_number">
            <field name="NUM">100</field>
          </shadow>
        </value>
      </block>
      <block type="math_random_float"></block>
    </category>
    <category name="{catText}" colour="160">
      <block type="text"></block>
      <block type="text_join"></block>
      <block type="text_append">
        <value name="TEXT">
          <shadow type="text"></shadow>
        </value>
      </block>
      <block type="text_length">
        <value name="VALUE">
          <shadow type="text">
            <field name="TEXT">abc</field>
          </shadow>
        </value>
      </block>
      <block type="text_isEmpty">
        <value name="VALUE">
          <shadow type="text">
            <field name="TEXT"></field>
          </shadow>
        </value>
      </block>
      <block type="text_indexOf">
        <value name="VALUE">
          <block type="variables_get">
            <field name="VAR">{textVariable}</field>
          </block>
        </value>
        <value name="FIND">
          <shadow type="text">
            <field name="TEXT">abc</field>
          </shadow>
        </value>
      </block>
      <block type="text_charAt">
        <value name="VALUE">
          <block type="variables_get">
            <field name="VAR">{textVariable}</field>
          </block>
        </value>
      </block>
      <block type="text_getSubstring">
        <value name="STRING">
          <block type="variables_get">
            <field name="VAR">{textVariable}</field>
          </block>
        </value>
      </block>
      <block type="text_changeCase">
        <value name="TEXT">
          <shadow type="text">
            <field name="TEXT">abc</field>
          </shadow>
        </value>
      </block>
      <block type="text_trim">
        <value name="TEXT">
          <shadow type="text">
            <field name="TEXT">abc</field>
          </shadow>
        </value>
      </block>
      <block type="text_print">
        <value name="TEXT">
          <shadow type="text">
            <field name="TEXT">abc</field>
          </shadow>
        </value>
      </block>
      <block type="text_prompt_ext">
        <value name="TEXT">
          <shadow type="text">
            <field name="TEXT">abc</field>
          </shadow>
        </value>
      </block>
    </category>
    <category name="{catLists}" colour="260">
      <block type="lists_create_with">
        <mutation items="0"></mutation>
      </block>
      <block type="lists_create_with"></block>
      <block type="lists_repeat">
        <value name="NUM">
          <shadow type="math_number">
            <field name="NUM">5</field>
          </shadow>
        </value>
      </block>
      <block type="lists_length"></block>
      <block type="lists_isEmpty"></block>
      <block type="lists_indexOf">
        <value name="VALUE">
          <block type="variables_get">
            <field name="VAR">{listVariable}</field>
          </block>
        </value>
      </block>
      <block type="lists_getIndex">
        <value name="VALUE">
          <block type="variables_get">
            <field name="VAR">{listVariable}</field>
          </block>
        </value>
      </block>
      <block type="lists_setIndex">
        <value name="LIST">
          <block type="variables_get">
            <field name="VAR">{listVariable}</field>
          </block>
        </value>
      </block>
      <block type="lists_getSublist">
        <value name="LIST">
          <block type="variables_get">
            <field name="VAR">{listVariable}</field>
          </block>
        </value>
      </block>
      <block type="lists_split">
        <value name="DELIM">
          <shadow type="text">
            <field name="TEXT">,</field>
          </shadow>
        </value>
      </block>
      <block type="lists_sort"></block>
    </category>
    <sep></sep>
    <category name="{catVariables}" colour="330" custom="VARIABLE">
      <block type="variable">
        <value name="cube"></value>
      </block>
    </category>
    <category name="{catFunctions}" colour="290" custom="PROCEDURE"></category>
    <sep></sep>
    <category name="{catDevTools}" colour="210">
      <block type="cozmo_on_start"> </block>
      <block type="cozmo_delay">
          <value name="DELAY">
            <shadow type="math_number">
              <field name="NUM">1.0</field>
            </shadow>
          </value>
       </block>
      <block type="atl_shuffle_the_list"> </block>
      <block type="atl_comment"></block>
      <block type="atl_print"></block>
    </category>
    <sep></sep>
    <!-- Includes Cozmo block -->
    <div id="cozmoBlocks" class="mermaid"> </div>
    <!-- Start of THYMIO related Blocks-->
    <div id="thymioBlocks" class="mermaid"> </div>
    <sep></sep>
    <category name="{catFunStuff}" colour="210">
      <block type="atl_logo"></block>
    </category>
    catFunStuff
  </xml>

</body>
</html>
